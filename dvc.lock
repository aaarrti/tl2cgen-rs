schema: '2.0'
stages:
  export_model:
    cmd: uv run scripts/export_model.py
    deps:
    - path: scripts/export_model.py
      hash: md5
      md5: 518c35f1528ab465c36e429d0468cb81
      size: 887
    outs:
    - path: data/X_test.npy
      hash: md5
      md5: 005cc75f0c6a6f0cb00057bc8eaa8759
      size: 160128
    - path: data/model.json
      hash: md5
      md5: 5afaba95108285683cf06ca17a8100d5
      size: 28035335
    - path: data/y_pred.npy
      hash: md5
      md5: f08e99ccef29e1f4709655c4a6f1818c
      size: 8128
  emit_c:
    cmd: cargo run --release -- --source=data/model.json --destination=data/cc/
    deps:
    - path: data/model.json
      hash: md5
      md5: 5afaba95108285683cf06ca17a8100d5
      size: 28035335
    - path: src/
      hash: md5
      md5: 0ef9497686c355d10a8ca2e2ee98f787.dir
      size: 11191
      nfiles: 3
    outs:
    - path: data/cc/
      hash: md5
      md5: f6005eb6360360a69e578eb07359d10a.dir
      size: 6699383
      nfiles: 42
  compile_model:
    cmd: cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=clang .;cmake --build
      . -j 8
    deps:
    - path: CMakeLists.txt
      hash: md5
      md5: 753c5dcaa5f052ef07ea06c714b3e6f5
      size: 679
    - path: data/cc/
      hash: md5
      md5: f6005eb6360360a69e578eb07359d10a.dir
      size: 6699383
      nfiles: 42
    outs:
    - path: data/libmodel.so
      hash: md5
      md5: f42a7ab5af554b8709d3ab792988e1f3
      size: 1874392
      isexec: true
  verify_model:
    cmd: uv run scripts/verify_model.py
    deps:
    - path: data/X_test.npy
      hash: md5
      md5: 005cc75f0c6a6f0cb00057bc8eaa8759
      size: 160128
    - path: data/y_pred.npy
      hash: md5
      md5: f08e99ccef29e1f4709655c4a6f1818c
      size: 8128
    - path: scripts/verify_model.py
      hash: md5
      md5: ca6a166158781bea2562de48d24abc76
      size: 658
